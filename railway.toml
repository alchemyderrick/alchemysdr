# Railway Service Configuration
# This deploys the SDR Console with Express API and Next.js frontend

[build]
builder = "NIXPACKS"

[deploy]
startCommand = "npm start"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

[service]
name = "sdr-console"

# Persistent volume for employee databases
[[volumes]]
mountPath = "/app/databases"

# NOTE: Set DATABASE_DIR=/app/databases in Railway dashboard Variables tab
# (railway.toml doesn't support [env] section)
